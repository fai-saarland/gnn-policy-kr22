Bootstrap: docker
From: debian:11

%setup
    mkdir ${APPTAINER_ROOTFS}/gnn
    cp -r network ${APPTAINER_ROOTFS}/gnn/

%post
    apt -y update
    apt -y upgrade
    apt -y install python3-venv python3-pip gringo
    python3 -m venv /gnn/env
    . /gnn/env/bin/activate
    pip3 install --upgrade pip
    pip3 install termcolor
    pip3 install torch
    pip3 install pytorch_lightning
    pip3 install tarski

%runscript
    . /gnn/env/bin/activate
    python3 /gnn/network/plan.py "$@"
